System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(i){var t,e,n,o,a,r,l,u,s,d,h,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,l=i.Node,u=i.AudioClip,s=i.AudioSource,d=i.Vec3,h=i.Component},function(i){c=i.GameManager}],execute:function(){var p,f,y,g,m,b,v,M,x,S,w,z,P,B;a._RF.push({},"f3fdbv7OQVIP40wXpC6nu/4","Ball",void 0);var I=r.ccclass,L=r.property;i("Ball",(p=I("Ball"),f=L(c),y=L(l),g=L(l),m=L(u),b=L(u),p((x=t((M=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"speed",x,o(t)),n(t,"gameManager",S,o(t)),n(t,"paddleLeft",w,o(t)),n(t,"paddleRight",z,o(t)),n(t,"hitSound",P,o(t)),n(t,"outSound",B,o(t)),t.direction=new d(0,1,0),t.audio=null,t}e(t,i);var a=t.prototype;return a.start=function(){var i,t;this.audio=this.node.addComponent(s),this.audio.volume=null!=(i=null==(t=this.gameManager)?void 0:t.soundVolume)?i:1,this.resetBall()},a.update=function(i){var t=this.node.position;t.x+=this.direction.x*this.speed*i,t.y+=this.direction.y*this.speed*i;var e,n=-340;(t.x-10<=n||t.x+10>=340)&&(t.x=t.x-10<=n?-330:330,this.direction.x*=-1,this.playSound(this.hitSound),null==(e=this.gameManager)||e.vibrate("light"));if(this.paddleLeft&&this.direction.y<0){var o,a=this.paddleLeft.position,r=t.y-10,l=a.y+10;if(r<=l&&r>=a.y-10&&t.x+10>=a.x-45&&t.x-10<=a.x+45)t.y=l+10,this.direction.y=1,this.playSound(this.hitSound),null==(o=this.gameManager)||o.vibrate("soft")}if(this.paddleRight&&this.direction.y>0){var u,s=this.paddleRight.position,d=t.y+10,h=s.y-10;if(d>=h&&d<=s.y+10&&t.x+10>=s.x-45&&t.x-10<=s.x+45)t.y=h-10,this.direction.y=-1,this.playSound(this.hitSound),null==(u=this.gameManager)||u.vibrate("soft")}this.node.setPosition(t)},a.resetBall=function(){this.node.setPosition(0,0,0);var i=[Math.PI/4,3*Math.PI/4,5*Math.PI/4,7*Math.PI/4],t=i[Math.floor(Math.random()*i.length)];this.direction.x=Math.cos(t),this.direction.y=Math.sin(t),this.direction.normalize()},a.playSound=function(i){var t,e;i&&this.audio&&(this.audio.volume=null!=(t=null==(e=this.gameManager)?void 0:e.soundVolume)?t:1,this.audio.playOneShot(i,1))},t}(h)).prototype,"speed",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 600}}),S=t(M.prototype,"gameManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(M.prototype,"paddleLeft",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"paddleRight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"hitSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(M.prototype,"outSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ball.ts"],(function(e){var t,i,r,a,n,o,l,s,c,u,h,p,d,b,f,m,g,v,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Label,u=e.Node,h=e.AudioClip,p=e.Camera,d=e.AudioSource,b=e.Vec3,f=e.Color,m=e.tween,g=e.Component,v=e.game},function(e){S=e.Ball}],execute:function(){var w,y,k,A,T,W,B,L,x,z,E,I,O,C,F,G,H,R,U,V,M,P,D,_,j,N,q,J,K,Q,X;l._RF.push({},"30ba5UFPNpCgI3cET3lCFa6","GameManager",void 0);var Y=s.ccclass,Z=s.property;e("GameManager",(w=Y("GameManager"),y=Z(S),k=Z(c),A=Z(u),T=Z(u),W=Z(u),B=Z(u),L=Z(u),x=Z(u),z=Z(h),E=Z(h),I=Z(u),O=Z(u),C=Z({range:[0,1]}),F=Z(p),w((R=t((H=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"ball",R,a(t)),r(t,"scoreLabel",U,a(t)),r(t,"restartButton",V,a(t)),r(t,"shareButton",M,a(t)),r(t,"paddleLeft",P,a(t)),r(t,"paddleRight",D,a(t)),r(t,"topWall",_,a(t)),r(t,"bottomWall",j,a(t)),r(t,"winSound",N,a(t)),r(t,"loseSound",q,a(t)),r(t,"winImage",J,a(t)),r(t,"loseImage",K,a(t)),r(t,"soundVolume",Q,a(t)),r(t,"mainCamera",X,a(t)),t.leftScore=0,t.rightScore=0,t.maxScore=5,t.gameEnded=!1,t.audio=null,t.telegramWebApp=null,t.userInteracted=!1,t.isTelegram=!1,t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.audio=this.node.addComponent(d),this.audio.volume=this.soundVolume,this.registerUserInteraction(),this.initializeTelegramWebApp(),this.shareButton.on("click",this.shareToTelegramStory,this)},l.registerUserInteraction=function(){var e=this,t=function t(){e.userInteracted=!0,document.removeEventListener("click",t),document.removeEventListener("touchstart",t),document.removeEventListener("keydown",t)};document.addEventListener("click",t),document.addEventListener("touchstart",t),document.addEventListener("keydown",t)},l.initializeTelegramWebApp=function(){try{var e,t,i=null==(e=window.Telegram)?void 0:e.WebApp;if(i)this.telegramWebApp=i,this.telegramWebApp.ready(),this.isTelegram=!0,i.expand(),this.shareButton.active=!0,console.log("Telegram WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"),console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:",null==(t=i.initDataUnsafe)?void 0:t.user);else console.log("–ù–µ –≤ Telegram, –∫–Ω–æ–ø–∫–∞ —à–µ–π—Ä–∏–Ω–≥–∞ —Å–∫—Ä—ã—Ç–∞"),this.shareButton.active=!1}catch(e){console.error("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram WebApp:",e),this.shareButton.active=!1}},l.start=function(){this.updateScore(),this.restartButton.active=!1,this.shareButton.active=this.isTelegram},l.update=function(e){if(!this.gameEnded){var t=this.ball.node.position.y;t>550?(this.leftScore++,this.updateScore(),this.vibrate("medium"),this.ball.outSound&&this.audio&&this.audio.playOneShot(this.ball.outSound,1),this.checkGameEnd(),this.ball.resetBall()):t<-550&&(this.rightScore++,this.updateScore(),this.vibrate("medium"),this.ball.outSound&&this.audio&&this.audio.playOneShot(this.ball.outSound,1),this.checkGameEnd(),this.ball.resetBall())}},l.vibrate=function(e){var t;if(void 0===e&&(e="medium"),this.userInteracted)if(null!=(t=this.telegramWebApp)&&t.HapticFeedback)try{switch(e){case"light":this.telegramWebApp.HapticFeedback.impactOccurred("light");break;case"medium":this.telegramWebApp.HapticFeedback.impactOccurred("medium");break;case"heavy":this.telegramWebApp.HapticFeedback.impactOccurred("heavy");break;case"rigid":this.telegramWebApp.HapticFeedback.impactOccurred("rigid");break;case"soft":this.telegramWebApp.HapticFeedback.impactOccurred("soft");break;case"error":this.telegramWebApp.HapticFeedback.notificationOccurred("error");break;case"success":this.telegramWebApp.HapticFeedback.notificationOccurred("success");break;case"warning":this.telegramWebApp.HapticFeedback.notificationOccurred("warning")}}catch(t){console.warn("–û—à–∏–±–∫–∞ –≤–∏–±—Ä–∞—Ü–∏–∏ –≤ Telegram:",t),this.fallbackVibrate(e)}else this.fallbackVibrate(e)},l.fallbackVibrate=function(e){if(navigator.vibrate){navigator.vibrate({light:[30],medium:[60],heavy:[100],rigid:[40,20,40],soft:[20],error:[100,50,100],success:[50,50],warning:[150]}[e]||[60])}},l.updateScore=function(){this.scoreLabel.string=this.leftScore+" : "+this.rightScore},l.checkGameEnd=function(){this.leftScore>=this.maxScore||this.rightScore>=this.maxScore?this.endGame():this.ball.resetBall()},l.resetBall=function(){this.ball.resetBall()},l.endGame=function(){this.gameEnded=!0,this.ball.node.active=!1,this.paddleLeft.active=!1,this.paddleRight.active=!1;var e=this.leftScore>this.rightScore;e?this.vibrate("success"):this.vibrate("error"),this.scoreLabel.string=e?"–ü–æ–±–µ–¥–∞!\n"+this.leftScore+" : "+this.rightScore:"–ü–æ—Ä–∞–∂–µ–Ω–∏–µ\n"+this.leftScore+" : "+this.rightScore,this.winImage.active=e,this.loseImage.active=!e,this.scoreLabel.node.setScale(new b(.1,.1,.1)),this.scoreLabel.color=new f(255,255,255,0),m(this.scoreLabel.node).to(.5,{scale:new b(1,1,1)},{easing:"backOut"}).start(),m(this.scoreLabel).to(.5,{color:new f(255,255,255,255)}).start(),this.audio&&(e&&this.winSound?this.audio.playOneShot(this.winSound,1):!e&&this.loseSound&&this.audio.playOneShot(this.loseSound,1)),this.restartButton.active=!0,this.shareButton.active=this.isTelegram},l.onRestart=function(){this.winImage.active=!1,this.loseImage.active=!1,this.leftScore=0,this.rightScore=0,this.updateScore(),this.gameEnded=!1,this.restartButton.active=!1,this.shareButton.active=this.isTelegram,this.ball.node.active=!0,this.paddleLeft.active=!0,this.paddleRight.active=!0,this.topWall.active=!0,this.bottomWall.active=!0,this.ball.resetBall()},l.shareToTelegramStory=function(){var e=n(o().mark((function e(){var t,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isTelegram){e.next=3;break}return alert("–§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ Telegram"),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.captureScreenshot();case 6:if(t=e.sent){e.next=9;break}throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç");case 9:this.vibrate("soft"),this.telegramWebApp.shareToStory({sticker:t,emoji:"üéÆ",caption:this.getShareCaption(),url:this.getShareUrl()},(function(e){"sent"===e?(console.log("–£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –∏—Å—Ç–æ—Ä–∏—é!"),i.vibrate("success")):(console.log("–®–µ—Ä–∏–Ω–≥ –æ—Ç–º–µ–Ω–µ–Ω:",e),i.vibrate("warning"))})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —à–µ—Ä–∏–Ω–≥–µ:",e.t0),alert("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."),this.vibrate("error");case 18:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(){return e.apply(this,arguments)}}(),l.captureScreenshot=function(){var e=n(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i,r=document.createElement("canvas"),a=r.getContext("2d");if(a)if(r.width=1080,r.height=1920,v.render(),null==(i=t.mainCamera)?void 0:i.framebuffer){a.fillStyle="#1a1a2e",a.fillRect(0,0,r.width,r.height),a.fillStyle="#ffffff",a.font="bold 80px Arial",a.textAlign="center",a.fillText("PONG GAME",r.width/2,300),a.font="bold 120px Arial",a.fillText(t.leftScore+" : "+t.rightScore,r.width/2,r.height/2),a.font="60px Arial";var n=t.leftScore>t.rightScore?"–ü–û–ë–ï–î–ê!":"–ü–û–†–ê–ñ–ï–ù–ò–ï";a.fillText(n,r.width/2,r.height/2+200),a.font="50px Arial",a.fillStyle="#00a8ff",a.fillText("–°—ã–≥—Ä–∞–π —Å–æ –º–Ω–æ–π!",r.width/2,r.height-300),e(r.toDataURL("image/jpeg",.9))}else e(null);else e(null)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l.getShareCaption=function(){return"–Ø "+(this.leftScore>this.rightScore?"–ø–æ–±–µ–¥–∏–ª":"–ø—Ä–æ–∏–≥—Ä–∞–ª")+" –≤ Pong —Å–æ —Å—á–µ—Ç–æ–º "+this.leftScore+":"+this.rightScore+"! üéÆ\n–°–º–æ–∂–µ—à—å –º–µ–Ω—è –æ–±—ã–≥—Ä–∞—Ç—å?"},l.getShareUrl=function(){return"https://t.me/demopong_bot"},t}(g)).prototype,"ball",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(H.prototype,"scoreLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"restartButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(H.prototype,"shareButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(H.prototype,"paddleLeft",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(H.prototype,"paddleRight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(H.prototype,"topWall",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"bottomWall",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(H.prototype,"winSound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"loseSound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"winImage",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(H.prototype,"loseImage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"soundVolume",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),X=t(H.prototype,"mainCamera",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=H))||G));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Ball.ts","./GameManager.ts","./Paddle.ts","./PaddleRight.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Paddle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,n,r,a,s,h,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.input,h=e.Input,p=e.macro,u=e.Component}],execute:function(){var c,l,d,y,f,v;r._RF.push({},"b8fa010x4hJma/Grt2+3V5j","Paddle",void 0);var m=a.ccclass,b=a.property;e("Paddle",m("Paddle")((d=t((l=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"speed",d,n(t)),o(t,"keyboardSpeedMultiplier",y,n(t)),o(t,"minX",f,n(t)),o(t,"maxX",v,n(t)),t.moveDir=0,t.keyboardActive=!1,t}i(t,e);var r=t.prototype;return r.onLoad=function(){s.on(h.EventType.KEY_DOWN,this.onKeyDown,this),s.on(h.EventType.KEY_UP,this.onKeyUp,this),s.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this)},r.onDestroy=function(){s.off(h.EventType.KEY_DOWN,this.onKeyDown,this),s.off(h.EventType.KEY_UP,this.onKeyUp,this),s.off(h.EventType.TOUCH_MOVE,this.onTouchMove,this)},r.onKeyDown=function(e){e.keyCode===p.KEY.left?(this.moveDir=-1,this.keyboardActive=!0):e.keyCode===p.KEY.right&&(this.moveDir=1,this.keyboardActive=!0)},r.onKeyUp=function(e){e.keyCode!==p.KEY.left&&e.keyCode!==p.KEY.right||(this.moveDir=0,this.keyboardActive=!1)},r.onTouchMove=function(e){var t=e.getDelta(),i=this.node.position;i.x+=t.x,i.x=Math.min(this.maxX,Math.max(this.minX,i.x)),this.node.setPosition(i)},r.update=function(e){if(0!==this.moveDir){var t=this.node.position,i=this.speed;this.keyboardActive&&(i*=this.keyboardSpeedMultiplier),t.x+=this.moveDir*i*e,t.x=Math.min(this.maxX,Math.max(this.minX,t.x)),this.node.setPosition(t)}},t}(u)).prototype,"speed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),y=t(l.prototype,"keyboardSpeedMultiplier",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),f=t(l.prototype,"minX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-360}}),v=t(l.prototype,"maxX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),c=l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/PaddleRight.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,s=e.Component}],execute:function(){var u,c,p,h,d,b,f,m;a._RF.push({},"4a62dOb6qBMoZk71fx6wqaR","PaddleRight",void 0);var g=o.ccclass,y=o.property;e("PaddleRight",(u=g("PaddleRight"),c=y(l),u((d=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"ball",d,r(t)),n(t,"speed",b,r(t)),n(t,"minX",f,r(t)),n(t,"maxX",m,r(t)),t}return i(t,e),t.prototype.update=function(e){if(this.ball){var t=this.node.position,i=this.ball.position.x-t.x,n=Math.sign(i)*this.speed*e;t.x+=Math.abs(i)<Math.abs(n)?i:n,t.x=Math.min(this.maxX,Math.max(this.minX,t.x)),this.node.setPosition(t)}},t}(s)).prototype,"ball",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(h.prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),f=t(h.prototype,"minX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-360}}),m=t(h.prototype,"maxX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),p=h))||p));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});